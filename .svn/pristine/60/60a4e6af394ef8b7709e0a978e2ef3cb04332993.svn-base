<?php

namespace App\Http\Controllers\Index;

use App\Content;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;

class IndexController extends Controller
{
    private $partner,$inform;

    public function __construct(){
        $this->partner = Content::where(['type'=>4,'isban'=>'0'])->orderBy('order','DESC')->orderBy('created_at','DESC')->get();
        $this->inform = Content::where(['type'=>5,'isban'=>'0'])->orderBy('order','DESC')->orderBy('created_at','DESC')->first();
    }

    public function index(){
        $banner = Content::where(['type'=>3,'isban'=>'0'])->orderBy('order','DESC')->orderBy('created_at','DESC')->limit(5)->get();
        $output['banner'] = $banner;
        $output['expert'] = [1,2,3,4];
        $output['partner'] = $this->partner;
        $output['inform'] = $this->inform;
        return view('index.index',$output);
    }

    public function service(){
        $info = Content::where('type',1)->first();
        $output['partner'] = $this->partner;
        $output['content'] = $info['content'];
        return view('index.service',$output);
    }

    public function charge(){
        $info = Content::where('type',2)->first();
        $output['partner'] = $this->partner;
        $output['content'] = $info['content'];
        return view('index.charge',$output);
    }

    public function about(){
        $output['partner'] = $this->partner;
        return view('index.about',$output);
    }
}
